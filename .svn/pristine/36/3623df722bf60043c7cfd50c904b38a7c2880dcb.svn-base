var apiSettingObj={init:function(){var a=this;$("#apiDocInfoTab").click(function(){a.loadApiDoc()});$("#commonParamInfoTab").click(function(){commonParamObj.loadInfo()});$("#baseUrlInfoTab").click(function(){baseUrlObj.loadInfo()})},loadApiDoc:function(){apiDocObj.loadInfo()}};var apiDocObj={init:function(){var a=this;$("#docDesc").summernote({height:300});$("#docInfoFrom").bootstrapValidator({fields:{title:{validators:{notEmpty:{message:"标题不能为空"}}}}});$("#saveDocBtn").click(function(){if(isFormValid("docInfoFrom")){var b=$("#docInfoFrom").find("*").getFieldsValue();b.description=$("#docDesc").code();doPost("auth/doc/json/update.htm",b,function(c){notice("保存成功")})}});a.loadInfo()},loadInfo:function(){$(".nodeInfo").hide();$("#docInfoPanel").show();resetValidForm("docInfoFrom");var a=new Object();a.docId=$("#docId").val();doGet("auth/doc/json/info.htm",a,function(b){$("#docInfoFrom").find("*").setFieldsValue(b);$("#docDesc").code(b.description)})}};var commonParamObj={init:function(){var a=this;$("#commonParamTable").nestable({group:10,enableAddChild:false,maxDepth:1,getItemContentTmpl:function(){return getTmpl("#commonParamContentTmpl")},afterAddChild:function(b){}});$("#addCommonParamBtn").on("click",function(){$("#commonParamTable").nestable("addChild")});$("#saveCommonParamBtn").on("click",function(){var b=$("#commonParamTable").nestable("getData");var c=new Object();c.docId=$("#docId").val();c.commonParam=JSON.stringify(b);doPost("auth/doc/common/param/json/add.htm",c,function(d){notice("保存成功");a.loadInfo()})});$("#clearCommonParamBtn").on("click",function(){$("#commonParamTable").nestable("clear")})},loadInfo:function(){var a=new Object();a.docId=$("#docId").val();doGet("auth/doc/common/param/json/list.htm",a,function(b){$("#commonParamTable").nestable("loadData",b)})}};var baseUrlObj={init:function(){var a=this;$("#baseUrlTable").nestable({group:11,enableAddChild:false,maxDepth:1,getItemContentTmpl:function(){return getTmpl("#baseUrlContentTmpl")},afterAddChild:function(b){}});$("#addBaseUrlBtn").on("click",function(){$("#baseUrlTable").nestable("addChild")});$("#saveBaseUrlBtn").on("click",function(){var b=$("#baseUrlTable").nestable("getData");var c=new Object();c.docId=$("#docId").val();c.envParam=JSON.stringify(b);doPost("auth/doc/env/json/add.htm",c,function(d){notice("保存成功");a.loadInfo()})});$("#clearBaseUrlBtn").on("click",function(){$("#baseUrlTable").nestable("clear")})},loadInfo:function(){var a=new Object();a.docId=$("#docId").val();doGet("auth/doc/env/json/list.htm",a,function(b){$("#baseUrlTable").nestable("loadData",b)})}};$(function(){apiSettingObj.init();commonParamObj.init();baseUrlObj.init()});